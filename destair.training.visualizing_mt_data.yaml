id: visualizing_taxonomic_classification_of_metatranscriptomic_data
name: 'Visualizing taxonomic classification of metatranscriptomic data'
description: 'This tour assists in the taxonomic classification and visualization of metatranscriptomic data: from quality-controlled FASTA sequences to a taxonomic tree.'
title_default: 'Visualizing taxonomic classification of metatranscriptomic data'

steps:

  - title: "<b>Taxonomic classification and visualization of metatranscriptomic data<b/>"
    content: "This interactive tour walks you through the steps that are needed to perform taxonomic classification and visualization of metatranscriptomic data.<br><br>Follow the instructions. Click <b>'Next'</b> to proceed to the following step, or <b>'Prev'</b> to review the previous one."
    backdrop: true


  - title: "<b>Overview</b>"
    content: "To taxonomically classify and visualize metatranscriptomic data, we will go through the following steps:<br>
        <dir>
            <li>Import the metatranscriptomic data</li>
        <dir>"
    backdrop: true


  - title: "<b>Import the metatranscriptomic data</b>"
    element: ".upload-button"
    content: "Use the import button to import data into Galaxy.<br><br>"
    position: "right"
    postclick:
      - ".upload-button"


  - title: "<b>Import the metatranscript data</b>"
    element: ".upload-text-content:first"
    content: "Transcriptomic data are contained in a FASTA file that must have been pre-processed for high quality reads. Load our sample dataset by clicking 'Next'."
    position: "right"
    preclick:
      - ".upload-button"
      - "button#btn-new"
    textinsert:
        https://zenodo.org/record/574367/files/preprocessed_metatranscriptomic_dataset.fasta
        

  - title: "<b>Import the metatranscript data</b>"
    element: "button#btn-start"
    intro: "Start the upload by clicking on 'Start'. Galaxy will retrieve the sample input file directly from the selected URL."
    position: "bottom"
    postclick:
      - "button#btn-start"
      - "button#btn-close"


  - title: "<b>Import the metatranscript data</b>"
    element: "#right"
    intro: "The file is uploading in your history."
    position: "left"


  - title: "<b>Identification of metatranscripts</b>"
    content: "To figure out the origin of RNA metatranscripts, we need to search their sequences in a nucleotide database. This task is carried out with <b>NCBI BLAST+ blastn</b>."
    backdrop: true


  - title: "<b>Identification of metatranscripts</b>"
    element: "div#everything > div#left > div.unified-panel-body.unified-panel-body-background > div.toolMenuContainer > div.toolMenu > div#tool-search.bar > input#tool-search-query.search-query.parent-width"
    content: "Use the search bar to look for \"blastn\", or locate it within the tools menu."
    placement: "right"
    postclick: 
      #- div#everything > div#left > div.unified-panel-body.unified-panel-body-background > div.toolMenuContainer > div.toolMenu > div#tool-search.bar > input#tool-search-query.search-query.parent-width
      - div#everything > div#left > div.unified-panel-body.unified-panel-body-background > div.toolMenuContainer > div.toolMenu > div.toolSectionWrapper > div#ncbi_blast.toolSectionBody > div.toolTitle > div > a.toolshed.g2.bx.psu.edu/repos/devteam/ncbi_blast_plus/ncbi_blastn_wrapper/0.1.08.tool-link


  - title: "<b>Identification of metatranscripts</b>" # 51
    element: "div#everything > div#center.inbound > div > div#center-panel > div > div > div#uid-623.ui-portlet-limited > div.portlet-content > div.portlet-body > div > div#uid-492-section-0.ui-form-section.section-row > div#uid-494.ui-form-element.section-row > div.ui-form-field > div#field-uid-494.ui-select > div.ui-button-check > span.icon.fa.ui-margin-right.fa-check-square-o"
    content: "The Nucleotide BLAST Database of choiche will be <b>NCBI NT</b>. Click on <b>Select/Unselect all, and unselect every database but the NCBI NT</b>"
    placement: "right"
    postclick: 
      - div#everything > div#center.inbound > div > div#center-panel > div > div > div#uid-623.ui-portlet-limited > div.portlet-content > div.portlet-body > div > div#uid-492-section-0.ui-form-section.section-row > div#uid-494.ui-form-element.section-row > div.ui-form-field > div#field-uid-494.ui-select > div.ui-button-check > span.icon.fa.ui-margin-right.fa-check-square-o


  - title: 'Step 52'
    element: 'div#everything > div#center.inbound > div > div#center-panel > div > div > div#uid-623.ui-portlet-limited > div.portlet-content > div.portlet-body > div > div#uid-515.ui-form-element.section-row > div.ui-form-field > div#field-uid-515.ui-options > div.ui-options-list > div.ui-option > label.ui-options-label'
    content: 'STUFF'
    placement: 'right'
    postclick: 
      - div#everything > div#center.inbound > div > div#center-panel > div > div > div#uid-623.ui-portlet-limited > div.portlet-content > div.portlet-body > div > div#uid-515.ui-form-element.section-row > div.ui-form-field > div#field-uid-515.ui-options > div.ui-options-list > div.ui-option > label.ui-options-label


  - title: "Identification of metatranscripts" # 53
    element: "div#everything > div#center.inbound > div > div#center-panel > div > div > div#uid-623.ui-portlet-limited > div.portlet-content > div.portlet-body > div > div#uid-515.ui-form-element.section-row > div.ui-form-field > div#field-uid-515.ui-options > div.ui-options-list > div.ui-option > input#uid-518"
    content: "Select <b>blastn</b>"
    placement: "right"
    postclick: 
      - div#everything > div#center.inbound > div > div#center-panel > div > div > div#uid-623.ui-portlet-limited > div.portlet-content > div.portlet-body > div > div#uid-515.ui-form-element.section-row > div.ui-form-field > div#field-uid-515.ui-options > div.ui-options-list > div.ui-option > input#uid-518


  - title: "Identification of metatranscripts" # 54
    element: "div#everything > div#center.inbound > div > div#center-panel > div > div > div#uid-623.ui-portlet-limited > div.portlet-content > div.portlet-body > div > div#uid-523-section-2.ui-form-section.section-row > div#uid-556.ui-form-element.section-row > div.ui-form-field > div#field-uid-556.ui-options > div.ui-options-list > div.ui-option > label.ui-options-label'
    content: 'The resulting table needs to be customized with a column selection. In a taxonomic classification, we need to use the <b>Subject Taxonomic ID(s)</b>"
    placement: "right"
    postclick: 
      - div#everything > div#center.inbound > div > div#center-panel > div > div > div#uid-623.ui-portlet-limited > div.portlet-content > div.portlet-body > div > div#uid-523-section-2.ui-form-section.section-row > div#uid-556.ui-form-element.section-row > div.ui-form-field > div#field-uid-556.ui-options > div.ui-options-list > div.ui-option > label.ui-options-label


  - title: "Identification of metatranscripts" # 55, 56
    element: "div#everything > div#center.inbound > div > div#center-panel > div > div > div#uid-623.ui-portlet-limited > div.portlet-content > div.portlet-body > div > div#uid-523-section-2.ui-form-section.section-row > div#uid-556.ui-form-element.section-row > div.ui-form-field > div#field-uid-556.ui-options > div.ui-options-list > div.ui-option > input#uid-563"
    content: "The resulting table will contain the <b>Subject Taxonomic ID(s)</b> (staxids)."
    placement: "right"
    postclick: 
      - div#everything > div#center.inbound > div > div#center-panel > div > div > div#uid-623.ui-portlet-limited > div.portlet-content > div.portlet-body > div > div#uid-523-section-2.ui-form-section.section-row > div#uid-556.ui-form-element.section-row > div.ui-form-field > div#field-uid-556.ui-options > div.ui-options-list > div.ui-option > input#uid-563
      - div#everything > div#center.inbound > div > div#center-panel > div > div > div#uid-623.ui-portlet-limited > div.portlet-content > div.portlet-buttons > button#uid-485.ui-button-default.btn.btn-info > span.title


  - title: "Taxonomic classification" # 62
    element: "div#everything > div#right.history-right-panel > div#current-history-panel.list-panel.history-panel.current-history-panel.middle > ul.list-items > div#dataset-06d1a4de7c141862.list-item.dataset.history-content.state-ok > div.primary-actions > a.icon-btn.display-btn > span.fa.fa-eye"
    content: "Taxonomic classification relies on specific colums within your BLASTn data.<br /><br />For this we need the <b>GI</b> (column 13), and the Subject Taxonomic ID(s) (column 1)."
    placement: "right"
    postclick: 
      - div#everything > div#right.history-right-panel > div#current-history-panel.list-panel.history-panel.current-history-panel.middle > ul.list-items > div#dataset-06d1a4de7c141862.list-item.dataset.history-content.state-ok > div.primary-actions > a.icon-btn.display-btn > span.fa.fa-eye


  - title: "Taxonomic classification" # 59, 60, 61 (63), 64 (68)
    element: "div#everything > div#left > div.unified-panel-body.unified-panel-body-background > div.toolMenuContainer > div.toolMenu > div.toolSectionWrapper > div#title_metagenomic_analyses.toolSectionTitle > a > span"
    content: "Search Galaxy for <b>Metagenomic</b> tools. To carry out metagenomic classification, we need to find the lowest diagnostic rank."
    placement: "right"
    postclick: 
      - div#everything > div#left > div.unified-panel-body.unified-panel-body-background > div.toolMenuContainer > div.toolMenu > div.toolSectionWrapper > div#title_metagenomic_analyses.toolSectionTitle > a > span
      - div#everything > div#left > div.unified-panel-body.unified-panel-body-background > div.toolMenuContainer > div.toolMenu > div.toolSectionWrapper > div#title_metagenomic_analyses.toolSectionTitle > a > span
      - div#everything > div#left > div.unified-panel-body.unified-panel-body-background > div.toolMenuContainer > div.toolMenu > div.toolSectionWrapper > div#metagenomic_analyses.toolSectionBody > div.toolTitle > div > a.toolshed.g2.bx.psu.edu/repos/devteam/gi2taxonomy/Fetch.Taxonomic.Ranks/1.1.0.tool-link
      - div#everything > div#center.inbound > div > div#center-panel > div > div > div#uid-666.ui-portlet-limited > div.portlet-content > div.portlet-buttons > button#uid-655.ui-button-default.btn.btn-info > span.title


  - title: "Visualize metagenomic phylogeny" # 70, 72, 73
    element: "div#everything > div#left > div.unified-panel-body.unified-panel-body-background > div.toolMenuContainer > div.toolMenu > div.toolSectionWrapper > div#metagenomic_analyses.toolSectionBody > div.toolTitle > div > a.toolshed.g2.bx.psu.edu/repos/devteam/t2ps/Draw_phylogram/1.0.0.tool-link"
    content: "TFrom the <b>Metagenomic Section</b> select <b>Draw Phylogeny</b>"
    placement: "right"
    postclick: 
      - div#everything > div#left > div.unified-panel-body.unified-panel-body-background > div.toolMenuContainer > div.toolMenu > div.toolSectionWrapper > div#metagenomic_analyses.toolSectionBody > div.toolTitle > div > a.toolshed.g2.bx.psu.edu/repos/devteam/t2ps/Draw_phylogram/1.0.0.tool-link
      - div#everything > div#left > div.unified-panel-body.unified-panel-body-background > div.toolMenuContainer > div.toolMenu > div.toolSectionWrapper > div#metagenomic_analyses.toolSectionBody > div.toolTitle > div > a.toolshed.g2.bx.psu.edu/repos/devteam/t2ps/Draw_phylogram/1.0.0.tool-link
      - div#everything > div#center.inbound > div > div#center-panel > div > div > div#uid-768.ui-portlet-limited > div.portlet-content > div.portlet-buttons > button#uid-756.ui-button-default.btn.btn-info

  - title: "Visualize metagenomic phylogeny" # 74
    element: "div#everything > div#right.history-right-panel > div#current-history-panel.list-panel.history-panel.current-history-panel.middle > ul.list-items > div#dataset-0b9e1c9637c2313d.list-item.dataset.history-content.state-ok > div.primary-actions > a.icon-btn.display-btn > span.fa.fa-eye"
    content: "Look at the phylogeny :)"
    placement: "left"
    postclick: 
      - div#everything > div#right.history-right-panel > div#current-history-panel.list-panel.history-panel.current-history-panel.middle > ul.list-items > div#dataset-0b9e1c9637c2313d.list-item.dataset.history-content.state-ok > div.primary-actions > a.icon-btn.display-btn > span.fa.fa-eye

