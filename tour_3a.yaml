id: tour-3a
name: Tour 3a
description: Quantification and differential gene expression analysis using featurecounts and DESeq2.
title_default: Tour 3a
steps:

  - title: '<b>Counting mapped reads</b>'
    element: ''
    content: 'In this step, we want to count the number of sequence reads that have been mapped against the provided genome.<br /><br />.
Click <b>Next</b> to start the analysis.<br />'

  - title: '<b>Counting mapped reads</b>'
    element: '#tool-search-query'
    content: 'Look for the <b>featureCounts</b> tool.<br /><br />
featureCounts computes the number of reads mapping to each <i>feature</i>. Here, a feature represents a positional range on a chromosome, or a union of such ranges.<br /><br />
Click <b>Next</b> to load it.<br />'
    placement: right
    textinsert: featurecounts
    postclick:
      - >-
        a[href$="/tool_runner?tool_id=toolshed.g2.bx.psu.edu%2Frepos%2Fiuc%2Ffeaturecounts%2Ffeaturecounts%2F1.6.0.3"]

  - title: '<b>Counting mapped reads</b>'
    element: '#left'
    content: 'With <b>featureCounts</b>, we want to count the number of reads mapped to the features described in the gene model file.<br /><br />
In section <b>Alignment file</b>, click on the <b>Multiple datasets</b> icon, and select all alignment results in the BAM format.<br /><br />
Click <b>Next</b> to overview the next parameters.<br />'
    placement: left

  - title: '<b>Counting mapped reads</b>'
    element: '#left'
    content: 'In section <b>Gene annotation file</b>, chose <b>in your history</b> option, and select the previously uploaded gene model file in the GFF format.<br /><br />
Click <b>Next</b> to overview the next parameters.<br />'
    placement: left

  - title: '<b>Counting mapped reads</b>'
    element: '#left'
    content: 'Click on <b>Advanced options</b>. Here, in section <b>GFF gene identifier</b>, change the value to <b>ID</b>.<b>TODO: explain why</b>.<br /><br />
Click <b>Next</b> to overview the next parameters.<br />'
    placement: left

  - title: '<b>Counting mapped reads</b>'
    element: '#left'
    content: 'For this operation, we will use all default settings for the remaining parameters. However, if you want to know more about their meaning, you can read the featureCounts manual that is provided below.<br /><br />
Click <b>Next</b> to execute.<br />'
    placement: left
    postclick:
      - '#execute'

  - title: '<b>Counting mapped reads</b>'
    element: '#right'
    content: 'featureCounts processing has begun, and the results are loading in your history.<br /><br />
Results are available as soon as their entries turn green.<br /><br />
Click <b>Next</b> as soon as they become available.<br />'
    placement: left

  - title: '<b>Find differentially expressed genes</b>'
    element: '#tool-search-query'
    content: 'Look for the <b>DESeq2</b> tool.<br /><br />
DESeq2 leverage on the number of aligned reads against the reference genome, and estimates whether they indicate a significant differentially expressed gene.<br /><br />
Click <b>Next</b> to load it.<br />'
    placement: right
    textinsert: star
    postclick:
      - >-
        a[href$="/tool_runner?tool_id=toolshed.g2.bx.psu.edu%2Frepos%2Fiuc%2Fdeseq2%2Fdeseq2%2F2.11.40.1"]

  - title: '<b>Find differentially expressed genes</b>'
    element: '#left'
    content: 'DESeq2 can handle multiple <i>factor</i>s affecting your experiment, each of which has two <i>levels</i> (or <i>states</i>). For instance, we can describe our experiment in terms of its treatment factor, which is conditioned by two different healthy states: control, and treated. Thus, we will describe our experiment accordingly.<br /><br />
In section <b>Specify a factor name</b>, change the default name with <b>Treatment</b>.<br />
In its two subsections <b>Specify a factor level</b>, change the first default value to <b>Control</b>, and the second to <b>Treated</b>. Then, click on the <b>Multiple datasets</b> icon of each factor level, and select all control and treated samples respectively.<br /><br />
Click <b>Next</b> to overview the next parameters.<br />'
    placement: left

  - title: '<b>Find differentially expressed genes</b>'
    element: '#left'
    content: 'In section <b>Output normalized counts table</b>, click <b>yes</b>.
Click <b>Next</b> to overview the next parameters.<br />'
    placement: left
